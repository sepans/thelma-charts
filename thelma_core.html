<link rel="import" href="../bower_components/polymer/polymer.html">

<!--      
  multiple inheritance is not supported by polymer so moving this function to th-d3-chart
<polymer-element assetpath="." name="th-has-datapoint" attributes="">
  <script>
      Polymer('th-has-datapoint', { 

       extractElementDataPoints : function() {
            var barInfos = this.querySelectorAll('th-data-point');
            var dataFromElements = [];
            [].forEach.call(barInfos, function(dataPointEl) {
                var dataPoint = {};
                [].forEach.call(dataPointEl.attributes, function(attr) {
                  console.log(attr);
                  dataPoint[attr.name] = attr.value;
                });
                console.log(dataPoint);
                dataFromElements.push(dataPoint);
            });

            return dataFromElements;

        }

      });
  </script>
</polymer-element>
-->

<polymer-element assetpath="." name="th-animated" attributes="animateOnInit animateAfter completed">
  
  <script>
      Polymer('th-animated', {  
        animationDelay: 1000,
        animateAfter: 0,
        animateOnInit: false,  //should be false actually. true for demo
        domReady: function() {
            this.init();

            console.log('animateAfter');
            console.log(this.animateAfter);
            console.log(this);
            
            if(this.animateOnInit || this.animateAfter>0) {
                if(this.animateAfter>0) {
                  var that = this;
                  setTimeout(function() {
                    that.animate();
                  },that.animateAfter();
                }
                else {
                  this.animate();
                }
            }

        },
        init: function() {
        },
        reset: function() {
        },
        animate: function() {
        },
        completed: function(){
        }

      });
  </script>

</polymer-element>